
{% extends "base.html" %}
{% block content %}
  <section class="flex-layout">
    <div class="card flex-main">
      <h2>{{ dashboard.full_name }}</h2>
      <p class="muted">{{ dashboard.email }}</p>

      <div class="stats-row">
        <div class="stat">
          <span class="label">Latest weight</span>
          <span class="value">
            {{ dashboard.latest_weight_kg if dashboard.latest_weight_kg is not none else "N/A" }} kg
          </span>
        </div>
        <div class="stat">
          <span class="label">Heart rate</span>
          <span class="value">
            {{ dashboard.latest_heart_rate_bpm if dashboard.latest_heart_rate_bpm is not none else "N/A" }} bpm
          </span>
        </div>
      </div>

      <div class="stats-row">
        <div class="stat small">
          <span class="label">Active goals</span>
          <span class="value">{{ dashboard.active_goal_count }}</span>
        </div>
        <div class="stat small">
          <span class="label">Past classes</span>
          <span class="value">{{ dashboard.past_class_count }}</span>
        </div>
        <div class="stat small">
          <span class="label">Upcoming sessions</span>
          <span class="value">{{ dashboard.upcoming_session_count }}</span>
        </div>
      </div>
    </div>

    <div class="card flex-side">
      <h3>Add new health metric</h3>
      <form method="post" action="{{ url_for('add_health_metric', member_id=dashboard.member_id) }}" class="form">
        <div class="form-row two-col">
          <label>Height (cm)
            <input type="number" step="0.1" name="height">
          </label>
          <label>Weight (kg)
            <input type="number" step="0.1" name="weight">
          </label>
        </div>

        <div class="form-row two-col">
          <label>Heart rate (bpm)
            <input type="number" name="heart_rate">
          </label>
          <label>Body fat (%)
            <input type="number" step="0.1" name="body_fat">
          </label>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn primary">Save metric</button>
        </div>
      </form>
    </div>
  </section>
{% endblock %}
